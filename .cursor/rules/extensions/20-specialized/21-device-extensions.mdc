---
alwaysApply: ${cursor.file.path.includes("examples/") || cursor.file.path.includes("templates/")}
---


# –ü—Ä–∞–≤–∏–ª–æ 02-1: –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π

## –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª–∞
–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã –∏ –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π.

## –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –∏ –≥–∏–±–∫–æ—Å—Ç—å üî¥ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï

### –ü—Ä–∏–Ω—Ü–∏–ø—ã –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏
rpi-image-gen –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç **–ø–æ–ª–Ω—É—é –≥–∏–±–∫–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã:

- **–¢–æ—á–Ω–æ–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞–∂–¥–æ–≥–æ –∞—Å–ø–µ–∫—Ç–∞ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
- **–ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - –ª–µ–≥–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥** - –ø—Ä–æ—Å—Ç–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∂–µ–ª–∞–µ–º–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Å–ª–æ–µ–≤ –∏ —Ö—É–∫–æ–≤

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏
- **–ö–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Å–æ–¥–µ—Ä–∂–∏–º—ã–º** - —Ç–æ—á–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞** - —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–Ω—É–∂–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è** - —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –Ω—É–∂–¥ –ø—Ä–æ–µ–∫—Ç–∞
- **–í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å** - –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–±–æ—Ä–∫–∏

## –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π üî¥ –û–í–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï

### –®–∞–±–ª–æ–Ω: –í–µ–±-–∫–∏–æ—Å–∫ üî¥ –û–í–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï
```yaml
# METABEGIN
# X-Env-Layer-Name: example-kiosk
# X-Env-Layer-Category: example
# X-Env-Layer-Desc: Example webkiosk layer showing how to define configuration
#  variables, declare packages and create a start up script. We depend on the
#  RPi user creds layer as we want to run the kiosk as the user it creates, and
#  we depend on systemd because we install a systemd service to start the kiosk.
# X-Env-Layer-Requires: rpi-user-credentials,systemd-net-min
#
# X-Env-VarPrefix: kiosk
#
# X-Env-Var-url: https://example.com
# X-Env-Var-url-Desc: Default URL the web kiosk will load at startup.
# X-Env-Var-url-Required: n
# X-Env-Var-url-Valid: regex:^https://[a-zA-Z0-9.-]+[a-zA-Z0-9]/?.*$
# X-Env-Var-url-Set: y
# METAEND
---
mmdebstrap:
  packages:
    - cage
    - chromium
  customize-hooks:
    - |
      export KIOSK_USER="$IGconf_device_user1"
      export KIOSK_RUNDIR="/home/$IGconf_device_user1"
      export KIOSK_URL="$IGconf_kiosk_url"
      export KIOSK_APP="/usr/bin/chromium $KIOSK_URL https://time.is/London --kiosk --noerrdialogs --disable-infobars --no-first-run --enable-features=OverlayScrollbar --start-maximized"
      envsubst < kiosk.service.tpl > $1/etc/systemd/system/kiosk.service
    - $BDEBSTRAP_HOOKS/enable-units "$1" kiosk
```

### –®–∞–±–ª–æ–Ω: Build Tools –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ üî¥ –û–í–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï
```yaml
# METABEGIN
# X-Env-Layer-Name: build-tools
# X-Env-Layer-Category: example
# X-Env-Layer-Desc: Native development tools to support pkg download and build
#  using autotools in a bash shell.
# METAEND
---
mmdebstrap:
  mode: auto
  variant: minbase
  suite: trixie
  mirrors:
    - deb http://deb.debian.org/debian trixie main contrib non-free non-free-firmware
    - deb http://deb.debian.org/debian-security trixie-security main contrib non-free non-free-firmware
    - deb http://deb.debian.org/debian trixie-updates main contrib non-free non-free-firmware
  packages:
    - build-essential
    - gcc
    - make
    - autoconf
    - automake
    - libtool
    - pkg-config
    - wget
    - bash
    - ca-certificates
```

### –®–∞–±–ª–æ–Ω: Suite Layer (–∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ) üî¥ –û–í–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï
```yaml
# METABEGIN
# X-Env-Layer-Name: example-suite-layer
# X-Env-Layer-Category: example
# X-Env-Layer-Desc: Example layer that demonstrates simply pulling several
#  other layers that are agnostic to device.
# X-Env-Layer-Version: 1.0.0
# X-Env-Layer-Requires: debian-bookworm-arm64-base-apt-multi,
#  rpi-debian-bookworm-apt,
#  rpi-misc-utils,
#  rpi-essential,
#  rpi-misc-skel,
#  rpi-user-credentials,
#  systemd-net-min,
#  fake-hwclock,
#  example-sdk-setup
# METAEND
---
```


