# Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¾Ñ„Ð¸Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Raspberry Pi OS Trixie ÐºÐ°Ðº Ð±Ð°Ð·Ñ‹

**Ð”Ð°Ñ‚Ð°:** 2 Ð¾ÐºÑ‚ÑÐ±Ñ€Ñ 2025  
**Ð’ÐµÑ€ÑÐ¸Ñ OS:** Raspberry Pi OS Trixie (Debian 13)  
**Kernel:** Linux 6.12.47

---

## ðŸŽ¯ ÐžÐ±Ð·Ð¾Ñ€

Ð’Ð¼ÐµÑÑ‚Ð¾ ÑÐ±Ð¾Ñ€ÐºÐ¸ Ð¾Ð±Ñ€Ð°Ð·Ð° Ñ Ð½ÑƒÐ»Ñ, Ð¼Ð¾Ð¶Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ **Ð¾Ñ„Ð¸Ñ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¾Ð±Ñ€Ð°Ð· Raspberry Pi OS Trixie** ÐºÐ°Ðº Ð±Ð°Ð·Ñƒ Ð¸ Ð¿Ñ€Ð¸Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ ÑÐ»Ð¾Ð¸ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸ Ð¸ RAID ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸ÑŽ Ð¿Ð¾Ð²ÐµÑ€Ñ… Ð½ÐµÐ³Ð¾.

### âœ¨ ÐŸÑ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²Ð° Ð¿Ð¾Ð´Ñ…Ð¾Ð´Ð°:

1. **Ð‘Ñ‹ÑÑ‚Ñ€ÐµÐµ** - Ð½Ðµ Ð½ÑƒÐ¶Ð½Ð¾ ÑÐ¾Ð±Ð¸Ñ€Ð°Ñ‚ÑŒ Ð±Ð°Ð·Ð¾Ð²ÑƒÑŽ ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ Ñ Ð½ÑƒÐ»Ñ
2. **ÐžÑ„Ð¸Ñ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¾Ð±Ñ€Ð°Ð·** - Ð¿Ñ€Ð¾Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½ Ð¸ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½ Raspberry Pi Foundation
3. **Ð’ÑÐµ Ð¿Ñ€ÐµÐ´ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¾** - firmware, Ð´Ñ€Ð°Ð¹Ð²ÐµÑ€Ð°, Ð±Ð°Ð·Ð¾Ð²Ñ‹Ðµ ÑƒÑ‚Ð¸Ð»Ð¸Ñ‚Ñ‹
4. **ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ** - Ð»ÐµÐ³ÐºÐ¾ Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ñ‚ÑŒ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ Ð¾Ñ‚ upstream
5. **ÐÐ°Ð´Ñ‘Ð¶Ð½Ð¾ÑÑ‚ÑŒ** - Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐµÐ½Ð½Ð°Ñ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ

---

## ðŸ“¥ Ð”Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ðµ Ð¾Ð±Ñ€Ð°Ð·Ñ‹

### Raspberry Pi OS Trixie Lite (ARM64)

**ÐŸÐ¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¹ Ñ€ÐµÐ»Ð¸Ð·:** 2025-10-01

**Ð¡ÑÑ‹Ð»ÐºÐ¸:**
- Image: https://downloads.raspberrypi.com/raspios_lite_arm64/images/raspios_lite_arm64-2025-10-02/2025-10-01-raspios-trixie-arm64-lite.img.xz
- SHA256: https://downloads.raspberrypi.com/raspios_lite_arm64/images/raspios_lite_arm64-2025-10-02/2025-10-01-raspios-trixie-arm64-lite.img.xz.sha256
- Release Notes: https://downloads.raspberrypi.com/raspios_lite_arm64/release_notes.txt

**Ð¥Ð°Ñ€Ð°ÐºÑ‚ÐµÑ€Ð¸ÑÑ‚Ð¸ÐºÐ¸:**
- **Base:** Debian Trixie (13)
- **Kernel:** Linux 6.12.47
- **Architecture:** ARM64 (aarch64)
- **Size:** ~500 MB (compressed)
- **Compositor:** labwc (Wayland)
- **Applications:** Minimal set + Chromium 140.0 + Firefox 142.0

**ÐÐ¾Ð²Ð¾Ðµ Ð² 2025-10-01:**
- ÐÐ¾Ð²Ñ‹Ð¹ Control Centre Ñ plugin-based Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð¾Ð¹
- ÐÐ¾Ð²Ð°Ñ Ð¸ÐºÐ¾Ð½ÐºÐ° Ñ‚ÐµÐ¼Ð° PiXtrix
- ÐÐ¾Ð²Ñ‹Ðµ GTK Ñ‚ÐµÐ¼Ñ‹ (PiXtrix standard, PiXonyx dark)
- ÐÐ¾Ð²Ñ‹Ð¹ ÑˆÑ€Ð¸Ñ„Ñ‚ Nunito Sans Light
- labwc 0.8.4 (Wayland compositor)
- Ð£Ð»ÑƒÑ‡ÑˆÐµÐ½Ð½Ð°Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° ÐºÐ»Ð°Ð²Ð¸Ð°Ñ‚ÑƒÑ€Ñ‹
- Raspberry Pi firmware 676efed1194de38975889a34276091da1f5aadd3

---

## ðŸš€ Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÑ‚Ð°Ñ€Ñ‚

### 1. ÐŸÑ€Ð¾ÑÑ‚Ð°Ñ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ Ñ RAID1 Ð¸ Ð±Ð°Ð·Ð¾Ð²Ð¾Ð¹ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒÑŽ:

```bash
# Ð¡ÐºÐ¾Ð¿Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð¿Ñ€Ð¸Ð¼ÐµÑ€ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸
cp examples/trixie-raid-security-simple.yaml my-config.yaml

# Ð¡Ð¾Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð¾Ð±Ñ€Ð°Ð·
./rpi-image-gen build -c my-config.yaml
```

**Ð§Ñ‚Ð¾ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑÑ:**
- ÐžÑ„Ð¸Ñ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Raspberry Pi OS Trixie Lite
- RAID1 Ñ f2fs Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð´Ð»ÐµÐ½Ð¸Ñ ÑÑ€Ð¾ÐºÐ° ÑÐ»ÑƒÐ¶Ð±Ñ‹ SD ÐºÐ°Ñ€Ñ‚
- Security Suite (AppArmor, Fail2Ban, UFW, Ð°Ð²Ñ‚Ð¾Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ)
- LUKS2 ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ

### 2. Enterprise ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ Ñ Ð¿Ð¾Ð»Ð½Ð¾Ð¹ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒÑŽ:

```bash
# Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ enterprise ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸ÑŽ
./rpi-image-gen build -c examples/trixie-raid-security-enterprise.yaml
```

**Ð§Ñ‚Ð¾ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑÑ:**
- Ð’ÑÐµ Ð¸Ð· Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ð¹ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸ +
- Comprehensive auditd Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³
- Cockpit web-Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ
- Distrobox Ð´Ð»Ñ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð¸Ð·Ð°Ñ†Ð¸Ð¸
- Ð¡Ñ‚Ñ€Ð¾Ð³Ð¸Ðµ password policies
- Compliance monitoring (CIS, PCI-DSS, HIPAA, GDPR)
- TPM key storage (ÐµÑÐ»Ð¸ Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½)

---

## ðŸ“ ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¾Ð½Ð½Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹

### Ð‘Ð°Ð·Ð¾Ð²Ð°Ñ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸:

```yaml
# Device configuration
device:
  layer: rpi5  # Ð¸Ð»Ð¸ rpi4, rpi-cm5, etc.

# Image configuration
image:
  layer: mdraid1-external-root
  name: my-trixie-image
  
  # ÐžÑ„Ð¸Ñ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¾Ð±Ñ€Ð°Ð· ÐºÐ°Ðº Ð±Ð°Ð·Ð°
  base_image_url: https://downloads.raspberrypi.com/raspios_lite_arm64/images/raspios_lite_arm64-2025-10-02/2025-10-01-raspios-trixie-arm64-lite.img.xz
  
  # RAID ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ
  mdraid1_external_root_rootfs_type: f2fs  # ext4, btrfs, f2fs
  mdraid1_external_root_raid_level: RAID1
  mdraid1_external_root_raid_devices: 2
  mdraid1_external_root_encryption_enabled: y

# ÐŸÑ€Ð¸Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ ÑÐ»Ð¾Ð¸ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸
layers:
  - security-suite  # ÐšÐ¾Ð¼Ð¿Ð»ÐµÐºÑÐ½Ð°Ñ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ
  # Ð¸Ð»Ð¸ Ð¸Ð½Ð´Ð¸Ð²Ð¸Ð´ÑƒÐ°Ð»ÑŒÐ½Ñ‹Ðµ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ñ‹:
  # - apparmor
  # - auditd
  # - fail2ban
  # - ufw
  # - unattended-upgrades

# ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸
security:
  apparmor_enabled: y
  fail2ban_enabled: y
  ufw_enabled: y
  unattended_upgrades_enabled: y
```

---

## ðŸ”’ SHA256 Verification

Ð”Ð»Ñ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸ **Ð½Ð°ÑÑ‚Ð¾ÑÑ‚ÐµÐ»ÑŒÐ½Ð¾ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ** Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÑ‚ÑŒ SHA256 checksum:

### ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° (Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ):

```yaml
image:
  base_image_url: https://downloads.raspberrypi.com/.../image.img.xz
  base_image_sha256_url: https://downloads.raspberrypi.com/.../image.img.xz.sha256
```

### Ð ÑƒÑ‡Ð½Ð°Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ°:

```yaml
image:
  base_image_url: https://downloads.raspberrypi.com/.../image.img.xz
  base_image_sha256: "a1b2c3d4e5f6789012345678901234567890123456789012345678901234abcd"
```

ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½ÐµÐµ ÑÐ¼. [SHA256 Verification Guide](./SHA256_VERIFICATION.md).

---

## ðŸ”§ ÐŸÑ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ ÑÐ»Ð¾Ñ‘Ð²

### ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ ÑÐ¿Ð¾ÑÐ¾Ð± (Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ):

```bash
# 1. Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸ÑŽ
cat > my-trixie.yaml << 'EOF'
device:
  layer: rpi5

image:
  layer: mdraid1-external-root
  name: my-secure-raid
  base_image_url: https://downloads.raspberrypi.com/raspios_lite_arm64/images/raspios_lite_arm64-2025-10-02/2025-10-01-raspios-trixie-arm64-lite.img.xz
  mdraid1_external_root_rootfs_type: f2fs
  mdraid1_external_root_raid_level: RAID1
  mdraid1_external_root_raid_devices: 2
  mdraid1_external_root_encryption_enabled: y

layers:
  - security-suite
EOF

# 2. Ð¡Ð¾Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð¾Ð±Ñ€Ð°Ð·
./rpi-image-gen build -c my-trixie.yaml

# 3. ÐžÐ±Ñ€Ð°Ð· Ð±ÑƒÐ´ÐµÑ‚ Ð² work/
ls -lh work/image-*/
```

### Ð ÑƒÑ‡Ð½Ð¾Ð¹ ÑÐ¿Ð¾ÑÐ¾Ð± (Ð´Ð»Ñ ÐºÐ°ÑÑ‚Ð¾Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ð¸):

```bash
# 1. Ð¡ÐºÐ°Ñ‡Ð°Ð¹Ñ‚Ðµ Ð±Ð°Ð·Ð¾Ð²Ñ‹Ð¹ Ð¾Ð±Ñ€Ð°Ð·
mkdir -p cache
cd cache
wget https://downloads.raspberrypi.com/raspios_lite_arm64/images/raspios_lite_arm64-2025-10-02/2025-10-01-raspios-trixie-arm64-lite.img.xz

# 2. Ð Ð°ÑÐ¿Ð°ÐºÑƒÐ¹Ñ‚Ðµ
xz -d 2025-10-01-raspios-trixie-arm64-lite.img.xz

# 3. ÐŸÑ€Ð¸Ð¼ÐµÐ½Ð¸Ñ‚Ðµ ÑÐ»Ð¾Ð¸ Ð²Ñ€ÑƒÑ‡Ð½ÑƒÑŽ
./scripts/apply-layers-to-base-image.sh config/trixie-raid-security.yaml
```

---

## ðŸŽ¯ Ð¡Ñ†ÐµÐ½Ð°Ñ€Ð¸Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ

### 1. Ð”Ð¾Ð¼Ð°ÑˆÐ½Ð¸Ð¹ ÑÐµÑ€Ð²ÐµÑ€ Ñ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒÑŽ:

```yaml
device:
  layer: rpi5

image:
  layer: mdraid1-external-root
  base_image_url: https://downloads.raspberrypi.com/raspios_lite_arm64/images/raspios_lite_arm64-2025-10-02/2025-10-01-raspios-trixie-arm64-lite.img.xz
  mdraid1_external_root_rootfs_type: f2fs
  mdraid1_external_root_raid_devices: 2
  mdraid1_external_root_encryption_enabled: y

layers:
  - security-suite
  - cockpit  # Ð’ÐµÐ±-Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ

security:
  ufw_allow_ssh: y
  ufw_ssh_port: 2222  # ÐÐµÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ñ‹Ð¹ Ð¿Ð¾Ñ€Ñ‚ SSH
  fail2ban_enabled: y
  unattended_upgrades_enabled: y
```

### 2. IoT edge gateway Ñ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð°Ð¼Ð¸:

```yaml
device:
  layer: rpi4

image:
  layer: mdraid1-external-root
  base_image_url: https://downloads.raspberrypi.com/raspios_lite_arm64/images/raspios_lite_arm64-2025-10-02/2025-10-01-raspios-trixie-arm64-lite.img.xz
  mdraid1_external_root_rootfs_type: f2fs
  mdraid1_external_root_raid_devices: 2

layers:
  - security-suite
  - distrobox  # ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð¸Ð·Ð°Ñ†Ð¸Ñ

security:
  apparmor_enabled: y
  ufw_enabled: y
  # Ð Ð°Ð·Ñ€ÐµÑˆÐ¸Ñ‚ÑŒ MQTT, Node-RED
  ufw_custom_rules:
    - allow 1883/tcp  # MQTT
    - allow 1880/tcp  # Node-RED
```

### 3. Enterprise production system:

```yaml
device:
  layer: rpi-cm5
  variant: 8G

image:
  layer: mdraid1-external-root
  base_image_url: https://downloads.raspberrypi.com/raspios_lite_arm64/images/raspios_lite_arm64-2025-10-02/2025-10-01-raspios-trixie-arm64-lite.img.xz
  mdraid1_external_root_rootfs_type: f2fs
  mdraid1_external_root_raid_devices: 2
  mdraid1_external_root_encryption_enabled: y
  mdraid1_external_root_key_method: tpm
  mdraid1_external_root_sector_size: 4096

layers:
  - security-suite
  - cockpit
  - distrobox

security:
  # Strict enterprise security
  apparmor_enabled: y
  apparmor_enforce_mode: enforce
  auditd_enabled: y
  auditd_compliance_monitoring: y
  fail2ban_enabled: y
  fail2ban_destemail: security@company.com
  ufw_enabled: y
  ufw_default_policy: deny
  password_min_length: 16
  password_max_age: 90
  
compliance:
  generate_sbom: y
  scan_vulnerabilities: y
  cis_benchmark: y
  pci_dss: y
  hipaa: y
```

---

## ðŸ“Š Ð¡Ñ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ Ð¿Ð¾Ð´Ñ…Ð¾Ð´Ð¾Ð²

| ÐŸÐ°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ | Ð¡Ð±Ð¾Ñ€ÐºÐ° Ñ Ð½ÑƒÐ»Ñ | Ð‘Ð°Ð·Ð¾Ð²Ñ‹Ð¹ Ð¾Ð±Ñ€Ð°Ð· + ÑÐ»Ð¾Ð¸ |
|----------|---------------|----------------------|
| **Ð’Ñ€ÐµÐ¼Ñ ÑÐ±Ð¾Ñ€ÐºÐ¸** | 30-60 Ð¼Ð¸Ð½ÑƒÑ‚ | 5-10 Ð¼Ð¸Ð½ÑƒÑ‚ |
| **Ð Ð°Ð·Ð¼ÐµÑ€** | ÐœÐ¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ð¹ | Ð¡Ñ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ñ‹Ð¹ |
| **ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ** | Ð ÑƒÑ‡Ð½Ñ‹Ðµ | ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ |
| **Ð¡Ð¾Ð²Ð¼ÐµÑÑ‚Ð¸Ð¼Ð¾ÑÑ‚ÑŒ** | ÐŸÐ¾Ð»Ð½Ð°Ñ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒ | Ð¡Ð»ÐµÐ´ÑƒÐµÑ‚ upstream |
| **Ð¡Ð»Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ** | Ð’Ñ‹ÑÐ¾ÐºÐ°Ñ | ÐÐ¸Ð·ÐºÐ°Ñ |
| **ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ°** | Ð’Ð°ÑˆÐ° | Raspberry Pi Foundation |

---

## âš™ï¸ Ð¢ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð´ÐµÑ‚Ð°Ð»Ð¸

### Ð‘Ð°Ð·Ð¾Ð²Ñ‹Ð¹ Ð¾Ð±Ñ€Ð°Ð· Trixie Ð²ÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚:

**Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ñ‹:**
- Linux kernel 6.12.47
- systemd
- Raspberry Pi firmware (latest)
- Device Tree overlays
- GPU drivers

**Networking:**
- NetworkManager
- dhcpcd
- wpa_supplicant
- Bluetooth stack

**Development:**
- gcc, make, build-essential
- Python 3.12
- Git

**Utilities:**
- sudo, ssh, rsync
- vim, nano
- curl, wget

**Applications:**
- Chromium 140.0.7339.185
- Firefox 142.0.1

### Ð¡Ð»Ð¾Ð¸ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÑŽÑ‚:

**Security Suite:**
- AppArmor profiles
- auditd rules
- Fail2Ban filters
- UFW firewall rules
- PAM modules
- Sysctl parameters
- Unattended-upgrades config

**RAID Configuration:**
- mdadm tools
- f2fs-tools / e2fsprogs / btrfs-progs
- LUKS2 encryption
- Initramfs hooks

---

## ðŸ” ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð°

ÐŸÐ¾ÑÐ»Ðµ ÑÐ±Ð¾Ñ€ÐºÐ¸ Ð¾Ð±Ñ€Ð°Ð·Ð°:

```bash
# 1. ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ñ€Ð°Ð·Ð¼ÐµÑ€
ls -lh work/image-*/

# 2. ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñƒ
fdisk -l work/image-*/*.img

# 3. ÐœÐ¾Ð½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¸ Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ðµ
sudo losetup -fP work/image-*/*.img
sudo mount /dev/loop0p2 /mnt
ls -la /mnt/
sudo umount /mnt
sudo losetup -d /dev/loop0
```

### ÐŸÐ¾ÑÐ»Ðµ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸ Ð½Ð° ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð¾:

```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð²ÐµÑ€ÑÐ¸ÑŽ OS
cat /etc/os-release

# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ kernel
uname -a

# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ RAID
cat /proc/mdstat

# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ñ„Ð°Ð¹Ð»Ð¾Ð²ÑƒÑŽ ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ
df -T /

# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ
sudo aa-status           # AppArmor
sudo fail2ban-client status  # Fail2Ban
sudo ufw status          # Firewall
sudo auditctl -s         # Auditd
```

---

## ðŸ› Troubleshooting

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°: ÐžÐ±Ñ€Ð°Ð· Ð½Ðµ ÑÐºÐ°Ñ‡Ð¸Ð²Ð°ÐµÑ‚ÑÑ

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ:**
```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ðµ
ping raspberrypi.com

# ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ð²Ñ€ÑƒÑ‡Ð½ÑƒÑŽ
wget https://downloads.raspberrypi.com/raspios_lite_arm64/images/raspios_lite_arm64-2025-10-02/2025-10-01-raspios-trixie-arm64-lite.img.xz

# Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð·ÐµÑ€ÐºÐ°Ð»Ð¾
BASE_IMAGE_URL="https://mirror.example.com/raspios/..." ./rpi-image-gen build -c config.yaml
```

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°: ÐÐµÑ…Ð²Ð°Ñ‚ÐºÐ° Ð¼ÐµÑÑ‚Ð°

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ:**
```bash
# ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚Ðµ ÐºÐµÑˆ
rm -rf cache/*.img
rm -rf work/

# Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð²Ð½ÐµÑˆÐ½Ð¸Ð¹ Ð´Ð¸ÑÐº
export CACHE_DIR=/mnt/external/cache
export WORK_DIR=/mnt/external/work
```

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°: Ð¡Ð»Ð¾Ð¸ Ð½Ðµ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÑÑŽÑ‚ÑÑ

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ:**
```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ ÑÐ¸Ð½Ñ‚Ð°ÐºÑÐ¸Ñ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸
./rpi-image-gen config --validate my-config.yaml

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾ÑÑ‚ÑŒ ÑÐ»Ð¾Ñ‘Ð²
./rpi-image-gen layer --list

# Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð¾Ñ‚Ð»Ð°Ð´ÐºÑƒ
./rpi-image-gen build -c my-config.yaml --debug
```

---

## ðŸ“š Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ñ€ÐµÑÑƒÑ€ÑÑ‹

### ÐžÑ„Ð¸Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð°Ñ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ:
- Raspberry Pi OS: https://www.raspberrypi.com/software/
- Release Notes: https://downloads.raspberrypi.com/raspios_lite_arm64/release_notes.txt
- rpi-image-gen: docs/index.adoc

### ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¹:
- `examples/trixie-raid-security-simple.yaml` - Ð±Ð°Ð·Ð¾Ð²Ð°Ñ
- `examples/trixie-raid-security-enterprise.yaml` - enterprise
- `config/trixie-raid-security.yaml` - Ð¿Ð¾Ð»Ð½Ð°Ñ

### Ð¡Ð»Ð¾Ð¸ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸:
- `layer/security/` - Ð²ÑÐµ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ñ‹ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸
- `layer/security/example-config.yaml` - Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ñ‹ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐº

---

## âœ… Checklist Ð¿ÐµÑ€ÐµÐ´ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼

- [ ] Ð¡ÐºÐ°Ñ‡Ð°Ð½ Ð¾Ñ„Ð¸Ñ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¾Ð±Ñ€Ð°Ð· Trixie
- [ ] ÐŸÑ€Ð¾Ð²ÐµÑ€ÐµÐ½Ð° checksum Ð¾Ð±Ñ€Ð°Ð·Ð°
- [ ] Ð¡Ð¾Ð·Ð´Ð°Ð½Ð° ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ Ñ Ð½ÑƒÐ¶Ð½Ñ‹Ð¼Ð¸ ÑÐ»Ð¾ÑÐ¼Ð¸
- [ ] ÐÐ°ÑÑ‚Ñ€Ð¾ÐµÐ½Ñ‹ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸
- [ ] ÐÐ°ÑÑ‚Ñ€Ð¾ÐµÐ½ RAID (ÐµÑÐ»Ð¸ Ð½ÑƒÐ¶ÐµÐ½)
- [ ] ÐŸÑ€Ð¾Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð° ÑÐ±Ð¾Ñ€ÐºÐ°
- [ ] ÐŸÑ€Ð¾Ð²ÐµÑ€ÐµÐ½Ð° Ñ€Ð°Ð±Ð¾Ñ‚Ð° Ð½Ð° ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ðµ
- [ ] Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð° ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ

---

**ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¾:** 2 Ð¾ÐºÑ‚ÑÐ±Ñ€Ñ 2025  
**Ð’ÐµÑ€ÑÐ¸Ñ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°:** 1.0.0

