# METABEGIN
# X-Env-Layer-Name: hybrid-raid-layout
# X-Env-Layer-Category: image
# X-Env-Layer-Desc: Hybrid SD + RAID1 storage layout with optional LUKS2 encryption (genimage-based disk images)
# X-Env-Layer-Version: 2.1.0
# X-Env-Layer-Requires: rpi-essential-base
# X-Env-Layer-Provides: image,encryption
# X-Env-VarPrefix: hybrid_raid_luks
#
# X-Env-Var-encryption_enabled: n
# X-Env-Var-encryption_enabled-Desc: Enable LUKS2 encryption for root filesystem
# X-Env-Var-encryption_enabled-Required: false
# X-Env-Var-encryption_enabled-Valid: bool
# X-Env-Var-encryption_enabled-Set: immediate
#
# X-Env-Var-rootfs_type: ext4
# X-Env-Var-rootfs_type-Desc: Root filesystem type (ext4, btrfs, f2fs)
# X-Env-Var-rootfs_type-Required: false
# X-Env-Var-rootfs_type-Valid: ext4,btrfs,f2fs
# X-Env-Var-rootfs_type-Set: immediate
#
# X-Env-Var-root_part_size: 2G
# X-Env-Var-root_part_size-Desc: Root partition size
# X-Env-Var-root_part_size-Required: false
# X-Env-Var-root_part_size-Valid: pattern:^[0-9]+[GM]$|^[0-9]+%$
# X-Env-Var-root_part_size-Set: immediate
#
# X-Env-Var-boot_part_size: 200M
# X-Env-Var-boot_part_size-Desc: Boot partition size
# X-Env-Var-boot_part_size-Required: false
# X-Env-Var-boot_part_size-Valid: pattern:^[0-9]+[GM]$|^[0-9]+%$
# X-Env-Var-boot_part_size-Set: immediate
#
# X-Env-Var-key_method: file
# X-Env-Var-key_method-Desc: LUKS key storage method (only 'file' supported for security)
# X-Env-Var-key_method-Required: false
# X-Env-Var-key_method-Valid: file
# X-Env-Var-key_method-Set: immediate
#
# X-Env-Var-key_size: 512
# X-Env-Var-key_size-Desc: LUKS key size in bits (256 or 512)
# X-Env-Var-key_size-Required: false
# X-Env-Var-key_size-Valid: int:256-512
# X-Env-Var-key_size-Set: immediate
#
# X-Env-Var-pmap: clear
# X-Env-Var-pmap-Desc: Provisioning Map identifier for this image layout (automatically selected based on encryption)
# X-Env-Var-pmap-Required: false
# X-Env-Var-pmap-Valid: clear,crypt
# X-Env-Var-pmap-Set: immediate
#
# X-Env-Var-disk_expansion_enabled-Desc: Enable automatic disk expansion to smallest disk size on first boot
# X-Env-Var-disk_expansion_enabled-Required: false
# X-Env-Var-disk_expansion_enabled-Valid: bool
# X-Env-Var-disk_expansion_enabled-Set: lazy
#
# X-Env-Var-ssd_ids: ata-SAMSUNG_HD204UI_S1XWJ1LZ100000,ata-SAMSUNG_HD204UI_S1XWJ1LZ100001
# X-Env-Var-ssd_ids-Desc: SSD device IDs for stable identification (comma-separated, used instead of /dev/sdX paths)
# X-Env-Var-ssd_ids-Required: false
# X-Env-Var-ssd_ids-Valid: pattern:.+
# X-Env-Var-ssd_ids-Set: immediate
# METAEND
---
