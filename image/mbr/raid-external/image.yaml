# METABEGIN
# X-Env-Layer-Name: raid-external
# X-Env-Layer-Category: image
# X-Env-Layer-Desc: Raspberry Pi OS style image layout with MBR, vfat boot partition,
#  and RAID1 root filesystem from two external drives. SD card for boot,
#  external drives for RAID1 root (ext4 or btrfs).
# X-Env-Layer-Version: 1.0.0
# X-Env-Layer-Requires: image-base
# X-Env-Layer-Provides: image
#
# X-Env-VarPrefix: image
#
# X-Env-Var-rootfs_type: ext4
# X-Env-Var-rootfs_type-Desc: Root filesystem type.
# X-Env-Var-rootfs_type-Required: n
# X-Env-Var-rootfs_type-Valid: ext4,btrfs
# X-Env-Var-rootfs_type-Set: y
#
# X-Env-Var-boot_part_size: 100%
# X-Env-Var-boot_part_size-Desc: Boot partition size
# X-Env-Var-boot_part_size-Required: n
# X-Env-Var-boot_part_size-Valid: size
# X-Env-Var-boot_part_size-Set: y
#
# X-Env-Var-root_part_size: 100%
# X-Env-Var-root_part_size-Desc: Root partition size (total for all RAID devices)
# X-Env-Var-root_part_size-Required: n
# X-Env-Var-root_part_size-Valid: size
# X-Env-Var-root_part_size-Set: y
#
# X-Env-Var-raid_level: RAID1
# X-Env-Var-raid_level-Desc: RAID level for external drives
# X-Env-Var-raid_level-Required: n
# X-Env-Var-raid_level-Valid: RAID0,RAID1
# X-Env-Var-raid_level-Set: y
#
# X-Env-Var-raid_devices: 2
# X-Env-Var-raid_devices-Desc: Number of external drives for RAID array
# X-Env-Var-raid_devices-Required: n
# X-Env-Var-raid_devices-Valid: 1,2,3,4
# X-Env-Var-raid_devices-Set: y
#
# X-Env-Var-assetdir: ${DIRECTORY}
# X-Env-Var-assetdir-Desc: Image specific asset directory
# X-Env-Var-assetdir-Required: n
# X-Env-Var-assetdir-Valid: string
# X-Env-Var-assetdir-Set: y
#
# X-Env-Var-pmap: clear
# X-Env-Var-pmap-Desc: Provisioning Map identifier for this image layout.
#  All partitions will be provisioned unencrypted (clear).
#  Root partition will be provisioned encrypted (crypt).
# X-Env-Var-pmap-Required: n
# X-Env-Var-pmap-Valid: clear,crypt
# X-Env-Var-pmap-Set: y
# METAEND
---
