# Каталог config/ - Конфигурационные файлы

Каталог содержит готовые конфигурации для быстрой сборки образов Raspberry Pi.

## Структура файлов

### `bookworm-minbase.yaml`
**Назначение**: Минимальный образ на базе Debian Bookworm
**Особенности**:
- Устройство: Raspberry Pi 5 (rpi5)
- Тип образа: image-rpios
- Размер boot-раздела: 200%
- Размер root-раздела: 300%
- Выходное имя: deb12-arm64-min
- Базовый слой: bookworm-minbase

### `bookworm-minbase-ab.yaml`
**Назначение**: Минимальный образ с поддержкой A/B обновлений на базе Debian Bookworm
**Особенности**:
- Устройство: Raspberry Pi 5 (rpi5)
- Тип образа: image-rota (A/B обновления)
- Размер boot-раздела: 200%
- Размер system-раздела: 300%
- Выходное имя: deb12-arm64-min
- Базовый слой: bookworm-minbase

### `trixie-minbase.yaml`
**Назначение**: Минимальный образ на базе Debian Trixie (testing)
**Особенности**:
- Устройство: Raspberry Pi 5 (rpi5)
- Тип образа: image-rpios
- Размер boot-раздела: 200%
- Размер root-раздела: 300%
- Выходное имя: deb13-arm64-min
- Базовый слой: trixie-minbase

## Секции конфигурации

Каждый файл содержит три основные секции:

### device
- `layer` - слой устройства (например, rpi5, pi4)
- Определяет аппаратную конфигурацию

### image
- `layer` - тип образа (image-rpios, image-rota)
- `boot_part_size` - размер загрузочного раздела
- `root_part_size`/`system_part_size` - размер системного раздела
- `name` - имя выходного файла образа

### layer
- `base` - базовый слой для сборки
- Определяет программные компоненты

## Использование

Эти файлы используются как шаблоны для быстрого создания образов:

```bash
rpi-image-gen build -c ./config/bookworm-minbase.yaml
```

Файлы служат примерами правильной конфигурации и могут быть использованы как основа для создания пользовательских конфигураций.

## Структура конфигурации

Каждый файл содержит три основные секции:

### device
- `layer` - слой устройства (например, rpi5, pi4)
- Определяет аппаратную конфигурацию

### image
- `layer` - тип образа (image-rpios, image-rota)
- `boot_part_size` - размер загрузочного раздела
- `root_part_size`/`system_part_size` - размер системного раздела
- `name` - имя выходного файла образа

### layer
- `base` - базовый слой для сборки
- Определяет программные компоненты

## Доступные шаблоны

### `yaml-config-template.md`
Шаблон для создания YAML конфигураций с полной структурой:
- Все обязательные и опциональные секции
- Комментарии с описаниями параметров
- Примеры использования
- Валидация параметров

## Создание новой конфигурации

1. **Выберите шаблон** из доступных в scheme/config/
2. **Создайте файл конфигурации** в каталоге config/:
   ```bash
   cp scheme/config/yaml-config-template.md config/my-config.yaml
   ```
3. **Настройте параметры** под ваш сценарий использования
4. **Протестируйте конфигурацию**:
   ```bash
   rpi-image-gen config --lint config/my-config.yaml
   ```
