<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rpi-image-gen Documentation</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; max-width: 1200px; margin: 0 auto; padding: 20px; line-height: 1.6; }
        .content { margin-bottom: 40px; }
        .layer-list { margin-bottom: 30px; }
        .layer-item { margin-bottom: 8px; }
        .layer-item a { text-decoration: none; color: #007acc; font-weight: 500; }
        .layer-item a:hover { text-decoration: underline; }
        .layer-desc { color: #666; margin-left: 10px; }
        h3 { color: #000; border-bottom: 1px solid #eee; padding-bottom: 5px; margin-top: 30px; margin-bottom: 15px; }
    </style>
</head>
<body>
    <div class="content">
        {{ content|safe }}
    </div>

    <h2>Available Layers</h2>
    {% set categories = layers|groupby('category') %}
    {% for category, category_layers in categories %}
    <h3>{{ category|title }}</h3>
    <div class="layer-list">
        {% for layer in category_layers %}
        <div class="layer-item">
            <a href="{{ layer.filename }}">{{ layer.name }}</a><span class="layer-desc">- {{ layer.description }}</span>
        </div>
        {% endfor %}
    </div>
    {% endfor %}
</body>
</html>
