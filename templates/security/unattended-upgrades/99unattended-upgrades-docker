// Unattended Upgrades configuration for Docker
// This file configures unattended upgrades to handle Docker safely

// Docker-specific upgrade configuration
Unattended-Upgrade::Package-Blacklist {
    // Don't upgrade Docker packages automatically to avoid container downtime
    "docker.io";
    "docker-ce";
    "docker-ce-cli";
    "containerd.io";
    "docker-buildx-plugin";
    "docker-compose-plugin";
};

// Allow Docker upgrades from security repository only
Unattended-Upgrade::Allowed-Origins:: "Docker:stable";

// Custom restart hook for Docker
Unattended-Upgrade::Post-Upgrade-Hook "/usr/local/bin/unattended-upgrades-docker-restart";
